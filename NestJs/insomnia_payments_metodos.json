{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2026-02-02T00:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "req_auth_register",
      "parentId": "fld_auth",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/auth/register",
      "name": "Registrar Usuário",
      "description": "Cria uma nova conta de usuário para testar pagamentos",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"name\": \"Comprador Teste\",\n  \"email\": \"comprador@teste.com\",\n  \"password\": \"Senha123!@\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706832000000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_auth_login",
      "parentId": "fld_auth",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/auth/login",
      "name": "Login",
      "description": "Faz login e obtém o token JWT para usar nos pagamentos",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"comprador@teste.com\",\n  \"password\": \"Senha123!@\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706831900000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_card_credit",
      "parentId": "fld_payments_card",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/create-preference",
      "name": "Cartão de Crédito - Aprovado",
      "description": "Cria uma preferência de pagamento com cartão de crédito que será APROVADO automaticamente.\n\nCartão Teste: 5031 4332 1540 6351\nCódigo: 123\nVencimento: 11/25\nNome: APRO (aprovado)\n\nApós criar a preferência:\n1. Acesse a URL do init_point\n2. Preencha com os dados do cartão teste\n3. Confirme o pagamento\n4. O webhook será chamado automaticamente",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Produto Teste - Cartão Crédito\",\n  \"description\": \"Pagamento teste com cartão de crédito aprovado\",\n  \"unitPrice\": 100.00,\n  \"quantity\": 1\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706832000000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_card_rejected",
      "parentId": "fld_payments_card",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/create-preference",
      "name": "Cartão de Crédito - Rejeitado",
      "description": "Cria uma preferência de pagamento com cartão de crédito que será REJEITADO automaticamente.\n\nCartão Teste: 5031 4332 1540 6351\nCódigo: 123\nVencimento: 11/25\nNome: OTHE (outro erro)\n\nStatus esperado: rejected\nRazão: insufficient_amount ou call_for_authorize",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Produto Teste - Cartão Rejeitado\",\n  \"description\": \"Pagamento teste com cartão de crédito rejeitado\",\n  \"unitPrice\": 150.00,\n  \"quantity\": 1\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706831900000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_card_pending",
      "parentId": "fld_payments_card",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/create-preference",
      "name": "Cartão de Crédito - Pendente",
      "description": "Cria uma preferência de pagamento com cartão de crédito que ficará PENDENTE.\n\nCartão Teste: 5031 4332 1540 6351\nCódigo: 123\nVencimento: 11/25\nNome: CONT (pendente de contestação)\n\nStatus esperado: in_process\nRazão: pending_contingency ou pending_review_manual",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Produto Teste - Cartão Pendente\",\n  \"description\": \"Pagamento teste com cartão de crédito pendente\",\n  \"unitPrice\": 75.00,\n  \"quantity\": 2\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706831800000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_pix",
      "parentId": "fld_payments_pix",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/create-preference",
      "name": "PIX - Criar Pagamento",
      "description": "Cria uma preferência de pagamento com PIX.\n\nFluxo do PIX:\n1. Criar a preferência\n2. Acessar o init_point no navegador\n3. Selecionar PIX como forma de pagamento\n4. MercadoPago gera QR Code e código copia-e-cola\n5. Usar app de banco teste para simular pagamento\n6. Webhook notifica aprovação\n\nEm TESTE, o pagamento PIX pode ser aprovado manualmente através do painel do MercadoPago ou simulado via API.",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Produto Teste - PIX\",\n  \"description\": \"Pagamento teste via PIX\",\n  \"unitPrice\": 50.00,\n  \"quantity\": 1\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706832000000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_boleto",
      "parentId": "fld_payments_others",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/create-preference",
      "name": "Boleto - Criar Pagamento",
      "description": "Cria uma preferência de pagamento com Boleto.\n\nFluxo do Boleto:\n1. Criar a preferência\n2. Acessar o init_point\n3. Selecionar Boleto\n4. MercadoPago gera o boleto\n5. Em ambiente de teste, pode ser aprovado manualmente\n\nOBS: Boletos em teste geralmente ficam pendentes até aprovação manual no painel do MercadoPago.",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Produto Teste - Boleto\",\n  \"description\": \"Pagamento teste via Boleto Bancário\",\n  \"unitPrice\": 200.00,\n  \"quantity\": 1\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706832000000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_history",
      "parentId": "fld_payments_query",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/user/history",
      "name": "Histórico de Pagamentos",
      "description": "Lista todos os pagamentos do usuário autenticado",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706832000000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_payment_by_id",
      "parentId": "fld_payments_query",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/payments/PAYMENT_ID_HERE",
      "name": "Buscar Pagamento por ID",
      "description": "Busca um pagamento específico pelo ID do banco de dados.\n\nSubstitua PAYMENT_ID_HERE pelo ID retornado ao criar o pagamento.",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706831900000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "req_webhook_simulate",
      "parentId": "fld_webhooks",
      "modified": 1706832000000,
      "created": 1706832000000,
      "url": "{{ _.base_url }}/webhooks/mercadopago",
      "name": "Simular Webhook - Pagamento Aprovado",
      "description": "⚠️ ATENÇÃO: Use um payment_id REAL retornado pelo MercadoPago!\n\nEste endpoint simula a notificação do MercadoPago quando um pagamento é processado.\n\nPara testar:\n1. Crie um pagamento usando os endpoints acima\n2. Complete o pagamento no checkout\n3. Copie o payment_id da resposta ou do painel do MercadoPago\n4. Cole aqui e envie o webhook\n\nOu configure ngrok para receber webhooks automaticamente:\nngrok http 3000\nE configure a URL no MercadoPago: https://seu-ngrok.ngrok.io/webhooks/mercadopago",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"action\": \"payment.updated\",\n  \"api_version\": \"v1\",\n  \"data\": {\n    \"id\": \"SUBSTITUA_PELO_PAYMENT_ID_REAL\"\n  },\n  \"date_created\": \"2026-02-02T00:00:00.000Z\",\n  \"id\": 12345678,\n  \"live_mode\": false,\n  \"type\": \"payment\",\n  \"user_id\": \"123456789\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": -1706832000000,
      "isPrivate": false,
      "_type": "request"
    },
    {
      "_id": "fld_auth",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "1. Autenticação",
      "description": "Endpoints de autenticação necessários para testar pagamentos",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1706832000000,
      "_type": "request_group"
    },
    {
      "_id": "fld_payments_card",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "2. Pagamentos - Cartão de Crédito",
      "description": "Testes de pagamento com cartão de crédito usando cartões de teste do MercadoPago",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1706831900000,
      "_type": "request_group"
    },
    {
      "_id": "fld_payments_pix",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "3. Pagamentos - PIX",
      "description": "Testes de pagamento via PIX",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1706831800000,
      "_type": "request_group"
    },
    {
      "_id": "fld_payments_others",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "4. Pagamentos - Outros Métodos",
      "description": "Testes com boleto e outros métodos de pagamento",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1706831700000,
      "_type": "request_group"
    },
    {
      "_id": "fld_payments_query",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "5. Consultas",
      "description": "Endpoints para consultar pagamentos",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1706831600000,
      "_type": "request_group"
    },
    {
      "_id": "fld_webhooks",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "6. Webhooks",
      "description": "Simulação de webhooks do MercadoPago",
      "environment": {},
      "environmentPropertyOrder": null,
      "metaSortKey": -1706831500000,
      "_type": "request_group"
    },
    {
      "_id": "wrk_payments",
      "parentId": null,
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "NestJS - Pagamentos MercadoPago",
      "description": "Coleção completa para testar métodos de pagamento (Cartão, PIX, Boleto)",
      "scope": "collection",
      "_type": "workspace"
    },
    {
      "_id": "env_base",
      "parentId": "wrk_payments",
      "modified": 1706832000000,
      "created": 1706832000000,
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:3000",
        "jwt_token": "SEU_TOKEN_JWT_AQUI"
      },
      "dataPropertyOrder": {
        "&": ["base_url", "jwt_token"]
      },
      "color": null,
      "isPrivate": false,
      "metaSortKey": 1706832000000,
      "_type": "environment"
    }
  ]
}
